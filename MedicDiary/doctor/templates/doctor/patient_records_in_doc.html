{% extends 'doctor/base.html' %}

{% block doctorbase %}
{% load static %}
<div>
    
</div>
<div class="container" id="main-content">
    <div style="margin-top: 5%; text-align: center;">
        <h2>{{subject.name|upper}} </h2>
        <button class="edit-option-buttons" style="font-size: 18px;">
            <a href="{% url 'doctor:newReport' p=subject.id %}">Add a record</a>
        </button>
    </div>
        
    <div class="row dashboard-content">
        <h2>Current Medication </h2>
        {% for report in Reports%}
                <div class="prescription" style="background: rgb(238, 201, 255);padding: 1em;">
                    <h5 style="background-color: #f7ec8d; width: fit-content;border-radius: 10px; padding: 2px 5px;
                    font-family: 'Grandstander'; margin: auto;">Date: {{report.date}}</h5>
                    <h5><b>Doctor:</b>{{report.doctor_name}}</h5>
                    <h5>Symptoms</h5>
                    <p>{{report.Symptoms}}</p>
                    <h5>Diagnosis</h5>
                    <p>{{report.diagnosis}}</p>
                    <table class="table table-bordered table-sm">
                        <thead class="thead-dark">
                        <tr>
                            <th>    </th>
                            <th>Medicine</th>
                            <th>Dosage</th>
                            <th>For</th>
                        </tr>
                        </thead>
                        <tbody>
                            {%for med in report.medication%}
                        <tr>
                            <td>.</td>
                            {%for each in med%}
                            <td>{{each}}</td>
                            {%endfor%}
                            
                           
                        </tr>
                        {%endfor%}
                        
                        </tbody>
                    </table>
                    <p><strong>Additional Precautions:</strong> {{report.additional_precautions}}</p>
                        
                </div>
                    <hr>
                    {% empty %}
                    <div style="margin-top:7%;">
                        <p style="font-size: 20px;">
                            <b>
                                NO MEDICAL HISTORY !!
                            </b>
                        </p>
                    </div>
                    {%endfor%}
        <!-- <button class="accordion">
            FIRST RECORD
        </button>
        <div class="panel">
            HERE COPY PASTE THE CONTENTS OF THE REST OF THE RECORDS
        </div> -->

    </div>
    <div class="row dashboard-content">
        <h2>Recent Lab reports </h2>
        {%for report in labreports%}
        <table class="table table-striped">
            <thead class="thead-dark">
                <tr>
                    <th>Report Name</th> 
                    <th>Report Date</th>
                    <th>Download</th>
                    <th>Preview</th> 
                   
                </tr>
            </thead>
            <tbody>
                
                <tr>
                    <td>{{report.report_name}}</td>
                    <td>{{report.report_date}}</td>
                   
                    <td><a class="prev-download-btn" href="{{report.labreportfile.url}}" download>Download</a></td>
                    <td><a class="prev-download-btn" href="{{report.labreportfile.url}}" >Preview</a></td>
                    
                </tr>
                {% empty %}
                <div style="margin-top:7%;">
                    <p style="font-size: 20px;">
                        <b>
                            NO LAB REPORTS ADDED!!
                        </b>
                    </p>
                </div>
                {%endfor%}
            </tbody>
        </table>
        

    </div>
    <div class="row dashboard-content">
        <h2>General Vitals </h2>
        <div class="container" style="width: 100%;">
            <div class="row my-5">
                <div class="col-5 text-center">
                    <div class="row my-3">
                        <div class="col-lg-6 profile-content">
                            <b>HEIGHT: </b>
                        </div>
                        <div class="col-lg-6 profile-content">
                            {{vitals.Height_in_Centimeters}}
                        </div>
                    </div>
                    <div class="row my-3">
                        <div class="col-lg-6 profile-content">
                            <b>WEIGHT:</b>
                        </div>
                        <div class="col-lg-6 profile-content">
                            {{vitals.Weight_in_kilograms}}
                        </div>
                    </div>
                    <div class="row my-3">
                        <div class="col-lg-6 profile-content">
                            <b>SMOKER OR NOT:</b>
                        </div>
                        <div class="col-lg-6 profile-content">
                            {{vitals.Smoker_or_not}}
                        </div>
                    </div>
                </div>
                <div class="col-7 text-center">
                    <div class="row my-3">
                        <div class="col-lg-6 profile-content">
                            <b>ALLERGIES:</b>
                        </div>
                        <div class="col-lg-6 profile-content">
                            {{vitals.Allergies}}
                        </div>
                    </div>
                    <div class="row my-3">
                        <div class="col-lg-6 profile-content">
                            <b>CHRONIC CONDITIONS:</b>
                        </div>
                        <div class="col-lg-6 profile-content">
                            {{vitals.Chronic_conditions}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
